@model openPER.ViewModels.GroupsViewModel

@{
    ViewData["Title"] = "Index";
}
@await Html.PartialAsync("_Breadcrumb", Model.Navigation)
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-12 col-12">
            @await Html.PartialAsync("_SidebarMenu", Model.Navigation)
        </div>
        <div class="col-lg-8 col-md-8 col-sm-12 col-12">
            <strong>@Resources.FrontEnd.CategorySelectTitle</strong>
            <p>@Resources.FrontEnd.CategorySelectBody</p>
            <div style="position: relative; left: 0; right: 0;">
                <img src="@Model.ImagePath" alt="Image of car model">
                @foreach (var mapEntry in Model.MapEntries)
                {
                    <a title="@($"{mapEntry.GroupCode:000} {mapEntry.Description}")" href="@Url.Action("Index", "SubGroups", new {Model.Navigation.Language, Model.MakeCode,Model.SubMakeCode, Model.ModelCode, Model.CatalogueCode, mapEntry.GroupCode, MVS=Model.Navigation.Filter.Mvs, VIN=Model.Navigation.Filter.Vin})">
                        <div style="position: absolute; top: @(mapEntry.Y+"px"); left: @(mapEntry.X+"px"); width: 24px;height:24px">
                            <img src="~/SiteImages/SelectCircle.png" />
                        </div>
                    </a>

                }
            </div>
            @if (string.IsNullOrEmpty(Model.Navigation.Filter.Mvs))
            {
                <h3>All variants</h3>
                <table class="table-sm">
                    @foreach (var variant in Model.ModelVariants.OrderBy(x => x.Description))
                    {
                        <tr>
                            <td>@variant.Description</td>
                            <td>@variant.Sincom</td>
                            <td>@Html.ActionLink("Go to catalogue", "Index", "Groups", new { Model.Navigation.Language, Model.Navigation.Breadcrumb.MakeCode, Model.Navigation.Breadcrumb.SubMakeCode, Model.Navigation.Breadcrumb.ModelCode, Model.Navigation.Breadcrumb.CatalogueCode, VIN="", MVS=variant.Sincom })
                        </tr>
                    }
                </table>
            }
        </div>
    </div>

</div>