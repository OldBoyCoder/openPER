@model openPER.ViewModels.SubGroupsViewModel
@{
    ViewData["Title"] = "Index";
}
@await Html.PartialAsync("_Breadcrumb", Model.Breadcrumb)
<div class="container">
    <div class="row">
        <div class="col-4">
            <table class="table table-sm table-hover">
                <thead>
                <tr>
                    <th>Models - Versions</th>
                </tr>
                <tr>
                    <th>Category</th>
                </tr>
                <tr>
                    <th>Subcategory</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var group in Model.SubGroups)
                {
                    <tr>
                        <td>
                            @Html.ActionLink($"{group.FullDisplayCode} {group.Description}", "Index", "SubSubGroups", new {Model.ReleaseCode,Model.MakeCode, Model.SubMakeCode, Model.ModelCode, Model.CatalogueCode, group.GroupCode, SubGroupCode = group.Code})
                        </td>
                    </tr>
                }
                <tr>
                    <td>
                        @Html.ActionLink("All drawings", "Index", "Drawings", new {Model.ReleaseCode,Model.MakeCode, Model.ModelCode, Model.CatalogueCode, Model.GroupCode, DrawingNumber=1})
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <strong>Subcategory selection</strong>
            <p>Select a subcategory from the side menu or directly from the map.</p>
            <div style="position: relative; left: 0px; right: 0px;">
                <img src="@Url.Action("CatalogueGroupImage", "Image", new { Model.ReleaseCode, Make = Model.MakeCode, SubMake = Model.SubMakeCode, Model = Model.ModelCode, Catalogue = Model.CatalogueCode, Group=Model.GroupCode })">
                
                @foreach (var mapEntry in Model.MapEntries)
                {
                    <a href="@Url.Action("Index", "SubSubGroups", new {Model.ReleaseCode,Model.MakeCode,Model.SubMakeCode, Model.ModelCode, Model.CatalogueCode, GroupCode=mapEntry.GroupCode, SubGroupCode=mapEntry.SubGroupCode})">
                        <div style="position: absolute; top: @(mapEntry.Y+"px"); left: @(mapEntry.X+"px"); width: 24px;height:24px">
                            <img src="~/SiteImages/SelectCircle.png"/></div></a>

                }
            </div>
        </div>

    </div>
</div>
