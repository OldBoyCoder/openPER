@using openPER.ViewModels
@model List<VinSearchResultViewModel>

@{
    ViewData["Title"] = "VinSearchView Debug";
}
@foreach (var result in Model)
{

    <caption>List of vehicle details</caption>
    <table class="table-sm">
        <tr><td>MVS</td><td>@Html.DisplayTextFor(m=>result.Mvs)</td></tr>
        <tr><td>Chassis</td><td>@Html.DisplayTextFor(m=>result.Chassis)</td></tr>
        <tr><td>Org</td><td>@Html.DisplayTextFor(m=>result.Organization)</td></tr>
        <tr><td>Motor</td><td>@Html.DisplayTextFor(m=>result.Motor)</td></tr>
        <tr><td>Date</td><td>@Html.DisplayTextFor(m=>result.BuildDate)</td></tr>
        <tr><td>Interior colour</td><td>@Html.DisplayTextFor(m=>result.InteriorColourCode) - @result.InteriorColourDescription</td></tr>
        <tr><td>VIN</td><td>@Html.DisplayTextFor(m=>result.VIN)</td></tr>
    </table>
    @foreach (var r in result.Models)
    {
        <details>
            <summary>@r.Description</summary>
            <table class="table-sm">
                <tr><td>Catalogue</td><td>@r.CatalogueCode - @r.CatalogueDescription</td></tr>
                <tr><td>Model</td><td>@r.Description</td></tr>
                <tr><td>Engine type</td><td>@r.EngineType</td></tr>
                <tr><td>SINCOM</td><td>@r.Sincom</td></tr>
                <tr><td>@Html.ActionLink($"Go to catalogue", "Index", "Groups", new { Language=r.Language, r.MakeCode, r.SubMakeCode, r.ModelCode, CatalogueCode = r.CatalogueCode, VIN=result.VIN, MVS=r.Sincom })</td></tr>
                <tr><td>Source for option data</td><td>@r.DataSource</td></tr>
                @foreach (var o in r.Options.OrderBy(x => x.Item1))
                {
                    <tr><td>@o.Item2</td><td>@o.Item3</td><td>@o.Item4</td></tr>
                }
            </table>
        </details>
    }
}

